---
import FormattedDate from "@/components/FormattedDate.astro";
import { type AnyEntry, isBlogEntry } from "@/utils/data.util";
import Separator from "./Separator.astro";

interface Props {
  posts: AnyEntry[];
  folder: string;
}
const { posts, folder } = Astro.props;
---

<ul>
  {
    posts.map((post) => {
      // const { remarkPluginFrontmatter } = await post.render();
      const { data } = post;
      let path = isBlogEntry(post) ? `${folder}/${post.slug}` : post.id;
      return (
        <>
          <li class="flex">
            {data.pubDate && <FormattedDate className="mr-3" date={data.pubDate} />}
            <a href={path}>{data.title}</a>
          </li>
          {data.yearSep && <Separator text={data.yearSep} />}
        </>
      );
    })
  }
</ul>
